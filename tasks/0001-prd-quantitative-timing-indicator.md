# 量化择时指标应用 - 产品需求文档 (PRD)

## 1. 介绍/概述

本应用是一个基于多维度择时框架的量化分析工具，专门为个人投资者设计。系统通过整合宏观基本面、行业基本面、市场情绪三个维度的指标，结合AI分析（DeepSeek API），生成每日择时评分和投资建议。

**核心目标**：为A股市场投资提供科学的择时决策支持，通过量化指标和AI分析降低主观判断偏差。

## 2. 目标

- 提供每日择时评分（0-100分制）
- 生成详细的择时分析报告
- 基于择时强度提供仓位建议
- 支持多市场/指数跟踪（A股主要指数、港股、纳指）
- 通过AI分析提供专业级的择时解释

## 3. 用户故事

- 作为个人投资者，我希望能够输入每日宏观数据，以便系统计算择时评分
- 作为用户，我希望看到择时指标的可视化图表，以便直观理解市场状态
- 作为投资者，我希望获得AI生成的择时建议和仓位配置，以便做出更理性的投资决策
- 作为用户，我希望能够配置数据输入方式（手动/自动），以便灵活适应不同数据源

## 4. 功能需求

### 4.1 数据管理模块
1. 系统必须支持手动输入宏观基本面数据（PMI、CPI、PPI、M2、利率等）
2. 系统必须支持市场情绪数据的双模式输入（手动输入或实时获取）
3. 系统必须支持每日或每周的数据频率配置
4. 系统必须使用本地文件存储数据（JSON/CSV格式）

### 4.2 指标计算模块
5. 系统必须实现宏观基本面评分计算（基于输入数据）
6. 系统必须实现行业基本面评分计算（基于自由现金流等指标）
7. 系统必须实现市场情绪评分计算
8. 系统必须实现综合择时评分（加权平均三个维度）

### 4.3 AI分析模块
9. 系统必须集成DeepSeek API进行量化分析
10. 系统必须通过AI分析组合指标生成择时建议
11. 系统必须提供择时信号的自然语言解释
12. 系统必须基于择时强度提供仓位建议（0-100%）

### 4.4 可视化模块
13. 系统必须提供择时指标的可视化图表（基于增量数据）
14. 系统必须支持多市场/指数的并行显示
15. 系统必须提供择时评分的历史趋势图

### 4.5 市场覆盖模块
16. 系统必须支持A股主要指数（沪深300、创业板、红利指数）
17. 系统必须支持港股指数（恒生指数、恒生科技）
18. 系统必须支持纳指信息跟踪
19. 系统必须基于自由现金流指标进行行业分析

### 4.6 Web界面模块
20. 系统必须提供响应式Web界面
21. 系统必须支持数据输入表单
22. 系统必须支持分析结果展示
23. 系统必须支持配置管理

## 5. 非目标（范围外）

- 不提供实时交易执行功能
- 不提供历史表现追踪和回测
- 不包含风险评估模块
- 不提供自动数据采集（仅支持配置化的实时获取）
- 不提供多用户支持（仅限个人使用）

## 6. 设计考虑

### 6.1 用户界面设计
- 采用简洁的仪表盘设计
- 主要显示择时评分、AI建议、可视化图表
- 数据输入区域与结果显示区域分离
- 支持暗色/亮色主题切换

### 6.2 数据可视化
- 使用折线图显示择时评分趋势
- 使用雷达图展示三个维度的指标分布
- 使用柱状图显示仓位建议
- 支持图表导出功能

### 6.3 技术架构
- 前端：React/Vue.js + 图表库（ECharts/Chart.js）
- 后端：Python Flask/FastAPI
- 数据存储：本地JSON文件
- AI集成：DeepSeek API

## 7. 技术考虑

### 7.1 技术栈
- **后端**：Python 3.8+，Flask/FastAPI框架
- **前端**：现代JavaScript框架（React/Vue.js）
- **数据存储**：本地文件系统（JSON格式）
- **图表库**：ECharts或Chart.js
- **AI集成**：DeepSeek API（RESTful接口）

### 7.2 数据处理
- 数据验证和清洗
- 指标标准化处理
- 权重配置管理
- 缓存机制优化

### 7.3 安全考虑
- API密钥安全存储
- 输入数据验证
- 本地数据加密（可选）

## 8. 成功指标

- 每日择时评分的准确性（通过后续市场表现验证）
- AI建议的可理解性和实用性
- 系统响应时间（< 3秒生成分析结果）
- 用户使用频率（目标：每日使用）

## 9. 待解决问题

1. DeepSeek API的具体调用频率限制和成本？
2. 市场情绪数据的实时获取具体使用哪些数据源？
3. 各维度指标的权重如何确定和优化？
4. 仓位建议的具体算法逻辑？
5. 是否需要支持数据导出功能？

## 技术架构概述

```
前端 (Web界面)
    ↓
后端API (Python Flask/FastAPI)
    ↓
数据处理层
    ↓
指标计算引擎
    ↓
AI分析层 (DeepSeek API)
    ↓
本地数据存储 (JSON文件)
```

## 核心功能流程

1. 用户输入宏观数据
2. 系统获取/输入市场情绪数据
3. 计算三个维度指标评分
4. 调用AI进行综合分析
5. 生成择时评分和仓位建议
6. 可视化展示结果
7. 提供自然语言解释